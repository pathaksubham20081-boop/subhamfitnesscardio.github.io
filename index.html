<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Grind Challenge System</title>
<style>
body{margin:0;font-family:Arial;background:#000;color:#fff}
nav{display:flex;justify-content:center;gap:15px;background:#111;padding:15px}
nav button{background:#ff6600;border:none;color:#fff;padding:8px 15px;border-radius:5px;cursor:pointer}
nav button:hover{background:#ff0000}
section{display:none;padding:20px;max-width:900px;margin:auto}
.active{display:block}
input,select,textarea{width:100%;padding:8px;margin:8px 0;border-radius:5px;border:none}
.task{display:flex;justify-content:space-between;background:#1a1a1a;padding:10px;margin:6px 0;border-left:4px solid #ff0000}
.progress-bar{height:20px;background:#333;border-radius:10px;margin-top:10px;overflow:hidden}
.progress{height:100%;width:0;background:linear-gradient(90deg,#ff0000,#ff6600)}
button.main{background:#ff6600;margin-top:10px}
.card{background:#111;padding:15px;border-radius:8px;margin:10px 0}
</style>
</head>
<body>

<nav>
<button onclick="show('home')">Home</button>
<button onclick="show('tracker')">Tracker</button>
<button onclick="show('stats')">Stats</button>
<button onclick="show('achievements')">Achievements</button>
<button onclick="show('report')">Report</button>
</nav>

<section id="home" class="active">
<h2>Start Challenge</h2>
<input id="nameInput" placeholder="Enter your name">
<button class="main" onclick="start()">Start / Continue</button>
</section>

<section id="tracker">
<h2 id="welcome"></h2>
<select id="daySelect"></select>
<div id="tasks"></div>
<div class="progress-bar"><div class="progress" id="progress"></div></div>
<p id="percentText"></p>
<textarea id="journal" placeholder="Write about today..."></textarea>
<button class="main" onclick="saveDay()">Save Day</button>
</section>

<section id="stats">
<h2>Stats</h2>
<div id="statsData"></div>
</section>

<section id="achievements">
<h2>Achievements</h2>
<div id="achData"></div>
</section>

<section id="report">
<h2>Final Report Card</h2>
<div id="reportData"></div>
</section>

<script>
let currentUser="";
let currentDay=1;

const taskList=[
"Gym Completed",
"3L Water",
"5h Study",
"Self Control",
"Grind Complete",
"No Junk Food",
"No Reels / Social Detox"
];

for(let i=1;i<=25;i++){
let opt=document.createElement("option");
opt.value=i;
opt.text="Day "+i;
daySelect.appendChild(opt);
}

function show(id){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"));
document.getElementById(id).classList.add("active");
if(id==="stats") loadStats();
if(id==="achievements") loadAchievements();
if(id==="report") loadReport();
}

function start(){
let name=nameInput.value.trim();
if(!name){alert("Enter name");return;}
currentUser=name;
localStorage.setItem("activeUser",name);
welcome.innerText="Welcome "+name;
renderTasks();
show("tracker");
}

function renderTasks(){
tasks.innerHTML="";
taskList.forEach((t,i)=>{
let div=document.createElement("div");
div.className="task";
div.innerHTML=`<label>${t}</label><input type="checkbox" onchange="updateProgress()">`;
tasks.appendChild(div);
});
loadDay();
}

function getData(){
return JSON.parse(localStorage.getItem(currentUser)||"{}");
}

function saveData(data){
localStorage.setItem(currentUser,JSON.stringify(data));
}

function loadDay(){
let data=getData();
let dayData=data["day"+daySelect.value];
let checkboxes=document.querySelectorAll("#tasks input");
checkboxes.forEach((c,i)=>{
c.checked=dayData?dayData.tasks[i]:false;
});
journal.value=dayData?dayData.journal:"";
updateProgress();
}

daySelect.onchange=loadDay;

function updateProgress(){
let checks=document.querySelectorAll("#tasks input");
let done=[...checks].filter(c=>c.checked).length;
let percent=Math.round((done/taskList.length)*100);
progress.style.width=percent+"%";
percentText.innerText=percent+"% Completed";
}

function saveDay(){
let data=getData();
let checks=document.querySelectorAll("#tasks input");
let tasksArr=[...checks].map(c=>c.checked);
let percent=Math.round((tasksArr.filter(x=>x).length/taskList.length)*100);

data["day"+daySelect.value]={
tasks:tasksArr,
journal:journal.value,
percent:percent
};

saveData(data);
alert("Day Saved!");
}

function loadStats(){
let data=getData();
let total=0,count=0;
for(let i=1;i<=25;i++){
if(data["day"+i]){
total+=data["day"+i].percent;
count++;
}
}
let avg=count?Math.round(total/count):0;
statsData.innerHTML=`
<div class="card">Days Saved: ${count}</div>
<div class="card">Average Performance: ${avg}%</div>
`;
}

function loadAchievements(){
let data=getData();
let count=Object.keys(data).length;
let badges="";
if(count>=3) badges+="<div class='card'>üî• 3 Day Starter</div>";
if(count>=7) badges+="<div class='card'>üí™ 7 Day Discipline</div>";
if(count>=15) badges+="<div class='card'>‚ö° 15 Day Beast</div>";
if(count>=25) badges+="<div class='card'>üèÜ 25 Day Legend</div>";
achData.innerHTML=badges||"<div class='card'>No achievements yet</div>";
}

function loadReport(){
let data=getData();
let total=0,count=0,best=0,worst=100;
for(let i=1;i<=25;i++){
if(data["day"+i]){
let p=data["day"+i].percent;
total+=p;count++;
if(p>best) best=p;
if(p<worst) worst=p;
}
}
let avg=count?Math.round(total/count):0;
let title="Needs Discipline";
if(avg>=50) title="Focused";
if(avg>=75) title="Locked In";
if(avg>=90) title="Legend";

reportData.innerHTML=`
<div class="card">Days Completed: ${count}</div>
<div class="card">Average: ${avg}%</div>
<div class="card">Best Day: ${best}%</div>
<div class="card">Worst Day: ${worst}%</div>
<div class="card">Final Rank: ${title}</div>
`;
}
</script>
</body>
</html>
